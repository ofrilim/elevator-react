{"version":3,"sources":["media/elevator.svg","media/elevator_sound.mp3","components/Elevator.js","components/Button.js","components/Floor.js","data/buildingData.js","components/Building.js","App.js","reportWebVitals.js","index.js"],"names":["_g","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgElevator","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","preserveAspectRatio","ref","id","transform","fill","stroke","d","ForwardRef","ELEVATOR_COLORS","Elevator","className","style","top","elevator","position","isDoorOpen","isOccupied","Button","condition","onClick","handleClick","Floor","floorNumber","floor","number","setFloorNumber","elevators","map","src","audioFile","document","getElementsByClassName","play","createFloorsBuilding","num","Array","from","floorId","createElevators","elevatorId","inFloor","Building","updateData","numOfFloorsInBuilding","numOfElevators","floorsInBuilding","getBuildingData","setState","handleSubmit","state","numOfFloors","handleChange","e","name","value","prevState","findAvailableElevator","moveElevator","filter","reduce","acc","newDiff","Math","abs","diff","elevatorToMove","find","rafId","currPosition","startPosition","isMoveUp","startTime","Date","now","step","interval","el","setTimeout","cancelAnimationFrame","requestAnimationFrame","type","onChange","Component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ae94a54e.chunk.js","sourcesContent":["var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgElevator(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 50.000000 50.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,50.000000) scale(0.100000,-0.100000)\",\n    fill: \"current\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 200 l0 -200 250 0 250 0 0 200 0 200 -250 0 -250 0 0 -200z m475 0 l0 -175 -225 0 -225 0 -3 165 c-1 90 0 170 3 177 3 11 51 13 227 11 l223 -3 0 -175z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M74 345 c-4 -8 -4 -26 -2 -40 3 -14 -1 -30 -8 -36 -16 -13 -20 -139 -4 -139 6 0 10 -20 10 -45 l0 -45 40 0 40 0 0 45 c0 25 5 45 10 45 14 0 13 123 -2 138 -6 6 -12 29 -12 49 -1 35 -3 38 -34 41 -22 2 -34 -2 -38 -13z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M214 345 c-4 -8 -4 -26 -2 -40 3 -14 -1 -30 -8 -36 -16 -13 -20 -139 -4 -139 6 0 10 -20 10 -45 l0 -45 40 0 40 0 0 45 c0 25 5 45 10 45 14 0 13 123 -2 138 -6 6 -12 29 -12 49 -1 35 -3 38 -34 41 -22 2 -34 -2 -38 -13z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M354 345 c-4 -8 -4 -26 -2 -40 3 -14 -1 -30 -8 -36 -16 -13 -20 -139 -4 -139 6 0 10 -20 10 -45 l0 -45 40 0 40 0 0 45 c0 25 5 45 10 45 14 0 13 123 -2 138 -6 6 -12 29 -12 49 -1 35 -3 38 -34 41 -22 2 -34 -2 -38 -13z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgElevator);\nexport default __webpack_public_path__ + \"static/media/elevator.6047da45.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/elevator_sound.6347182a.mp3\";","import React from 'react';\r\nimport { ReactComponent as ElevatorImg } from '../media/elevator.svg';\r\n\r\nconst ELEVATOR_COLORS = {\r\n  occupied: '#ed484d',\r\n  arrived: '#5bcd88',\r\n  available: '#000000',\r\n};\r\n\r\nconst Elevator = (props) => {\r\n  const getConditionColor = () => {\r\n    if (props.elevator.isDoorOpen) return ELEVATOR_COLORS.arrived;\r\n    else {\r\n      return props.elevator.isOccupied ? ELEVATOR_COLORS.occupied : ELEVATOR_COLORS.available;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"elevator\" style={{ top: props.elevator.position }}>\r\n      <ElevatorImg fill={ getConditionColor() } />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Elevator;\r\n","import React from 'react';\r\n\r\nexport default function Button(props) {\r\n  return (\r\n    <>\r\n      <button \r\n        className={`capitalize border-radius bold ${props.condition}`} \r\n        onClick={props.handleClick}>\r\n          {props.condition}\r\n      </button>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport audioFile from '../media/elevator_sound.mp3';\r\nimport Elevator from './Elevator';\r\nimport Button from './Button';\r\n\r\nconst Floor = (props) => {\r\n\r\n  const handleClick = () => {\r\n    props.handleClick(props.floor);\r\n  }\r\n\r\n  const playSound = () => {\r\n    const audioEl = document.getElementsByClassName(\"audio-element\")[0];\r\n    audioEl.play();\r\n  }\r\n\r\n  const setFloorNumber = () => {\r\n    const floorNumber = props.floor.number;\r\n    switch (floorNumber) {\r\n      case 0:\r\n        return `ground floor`;\r\n      case 1:\r\n        return `${floorNumber}st`;\r\n      case 2:\r\n        return `${floorNumber}nd`;\r\n      case 3:\r\n        return `${floorNumber}rd`;\r\n      default:\r\n        return `${floorNumber}th`;\r\n    }\r\n  }\r\n\r\n  const setCellsAndElevators = () => {\r\n    return (\r\n      props.elevators.map((elevator, i) => {\r\n        if (props.floor.number === 0) return <div className=\"cell\" key={i}>{<Elevator elevator={elevator} />}</div>\r\n        return <div className=\"cell\" key={i}></div>\r\n      }\r\n      )\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"Floor flex align-center justify-center\">\r\n      <h5 className=\"capitalize\">{ setFloorNumber() }</h5>\r\n      <div className=\"grid-container\">{ setCellsAndElevators() }</div>\r\n      <Button handleClick={ handleClick } condition={ props.floor.condition } />\r\n      <audio className=\"audio-element\">\r\n        <source src={ audioFile }></source>\r\n      </audio>\r\n      {props.floor.condition === 'arrived' ? playSound() : ''}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Floor;","\r\nexport function getBuildingData(numOfFloorsInBuilding, numOfElevators) {\r\n  return {\r\n    floorsInBuilding: createFloorsBuilding(numOfFloorsInBuilding),\r\n    elevators: createElevators(numOfElevators) \r\n  }; \r\n};\r\n\r\nfunction createFloorsBuilding(num) {\r\n  let initialArray = Array.from(Array(num).keys());\r\n\r\n  let floorsArray = initialArray.map((floorId) => {\r\n    return {\r\n      number: floorId,\r\n      condition: 'call',\r\n    }\r\n  });\r\n\r\n  return floorsArray;\r\n}\r\n\r\nfunction createElevators(num) {\r\n  let initialArray = Array.from(Array(num).keys());\r\n\r\n  let elevatorsArray = initialArray.map((elevatorId) => {\r\n    return {\r\n      id: elevatorId,\r\n      isOccupied: false,\r\n      isDoorOpen: false,\r\n      inFloor: 0,\r\n      position: 0,\r\n    }\r\n  });\r\n\r\n  return elevatorsArray;\r\n}","import React, { Component } from 'react';\r\nimport Floor from './Floor';\r\nimport { getBuildingData } from '../data/buildingData';\r\n\r\nclass Building extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      numOfFloors: 10,\r\n      numOfElevators: 5,\r\n      floorsInBuilding: [],\r\n      elevators: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateData(this.state.numOfFloors, this.state.numOfElevators);\r\n  }\r\n\r\n  updateData = (numOfFloorsInBuilding, numOfElevators) => {\r\n    const { floorsInBuilding, elevators } = getBuildingData(numOfFloorsInBuilding, numOfElevators);\r\n\r\n    this.setState({\r\n      floorsInBuilding,\r\n      elevators\r\n    });\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    this.updateData(this.state.numOfFloors, this.state.numOfElevators);\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const name = e.target.name;\r\n\r\n    this.setState(() => {\r\n      return { [name]: +e.target.value }\r\n    });\r\n  }\r\n\r\n  handleClick = (floor) => {\r\n    const { number: floorNumber, condition } = floor;\r\n    if (condition !== 'call') return;\r\n\r\n    this.setState(prevState => ({\r\n      floorsInBuilding: prevState.floorsInBuilding.map(floor => floor.number === floorNumber ?\r\n        { ...floor, condition: 'waiting' }\r\n        : floor)\r\n    }))\r\n\r\n    const elevatorId = this.findAvailableElevator(floorNumber)\r\n    if (elevatorId === -1) return;\r\n    this.moveElevator(elevatorId, floorNumber);\r\n  }\r\n\r\n  findAvailableElevator = (floorNumber) => {\r\n    const closestElevator = this.state.elevators.filter(elevator => !elevator.isOccupied).reduce((acc, elevator) => {\r\n      let newDiff = Math.abs(floorNumber - elevator.inFloor);\r\n      if (newDiff < acc.diff) {\r\n        acc.diff = newDiff;\r\n        acc.elevatorId = elevator.id;\r\n      }\r\n\r\n      return acc;\r\n    }, { diff: 1000000000, elevatorId: -1 });\r\n\r\n    return closestElevator.elevatorId;\r\n  }\r\n\r\n  moveElevator = (elevatorId, floorNumber) => {\r\n    const elevatorToMove = this.state.elevators.find(elevator => elevator.id === elevatorId);\r\n\r\n    this.setState(prevState => ({\r\n      elevators: prevState.elevators.map(elevator => elevator.id === elevatorId ?\r\n        { ...elevator, isOccupied: true }\r\n        : elevator)\r\n    }))\r\n\r\n    const target = -(floorNumber * 56);\r\n    const startPosition = elevatorToMove.position;\r\n    const isMoveUp = target < startPosition;\r\n    const startTime = Date.now();\r\n    let rafId, currPosition;\r\n\r\n    const step = () => {\r\n      let interval = Date.now() - startTime;\r\n      currPosition = isMoveUp ? startPosition - (interval / 20) : startPosition + (interval / 20);\r\n\r\n      this.setState(prevState => ({\r\n        elevators: prevState.elevators.map(elevator => elevator.id === elevatorId ?\r\n          { ...elevator, position: currPosition }\r\n          : elevator)\r\n      }))\r\n\r\n      const stopCondition = isMoveUp ? currPosition <= target : currPosition >= target;\r\n      if (stopCondition) {\r\n\r\n        this.setState(prevState => ({\r\n          elevators: prevState.elevators.map(el => el.id === elevatorId ?\r\n            { ...el, position: target, inFloor: floorNumber, isDoorOpen: true }\r\n            : el)\r\n        }));\r\n\r\n        this.setState(prevState => ({\r\n          floorsInBuilding: prevState.floorsInBuilding.map(floor => floor.number === floorNumber ?\r\n            { ...floor, condition: 'arrived' }\r\n            : floor)\r\n        }));\r\n\r\n        setTimeout(() => {\r\n          this.setState(prevState => ({\r\n            floorsInBuilding: prevState.floorsInBuilding.map(floor => floor.number === floorNumber ?\r\n              { ...floor, condition: 'call' }\r\n              : floor)\r\n          }));\r\n\r\n          this.setState(prevState => ({\r\n            elevators: prevState.elevators.map(el => el.id === elevatorId ?\r\n              { ...el, isDoorOpen: false, isOccupied: false }\r\n              : el)\r\n          }));\r\n        }, 2000);\r\n\r\n        cancelAnimationFrame(rafId);\r\n        return;\r\n      }\r\n      rafId = requestAnimationFrame(step);\r\n    }\r\n    step();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"form\">\r\n          <label className=\"capitalize\">\r\n            floors:\r\n            <input type=\"number\" name=\"numOfFloors\" value={this.state.numOfFloors} onChange={this.handleChange} />\r\n          </label>\r\n          <label className=\"capitalize\">\r\n            elevators:\r\n            <input type=\"number\" name=\"numOfElevators\" value={this.state.numOfElevators} onChange={this.handleChange} />\r\n          </label>\r\n          <button type=\"submit\" onClick={this.handleSubmit}>Update</button>\r\n        </div>\r\n        <div className=\"building bold\">\r\n          {this.state.floorsInBuilding.map(floor => <Floor\r\n            key={floor.number}\r\n            floor={floor}\r\n            elevators={this.state.elevators}\r\n            handleClick={this.handleClick}\r\n          />\r\n          )}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Building;\r\n","import './styles/global.scss';\nimport Building from './components/Building';\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header center bold capitalize\">\n       <h1>elevator exercise</h1>\n      </header>\n      <Building />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}