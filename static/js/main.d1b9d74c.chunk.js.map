{"version":3,"sources":["data/buildingData.js","media/elevator_sound.mp3","media/elevator.svg","components/Elevator.js","components/Button.js","components/Floor.js","components/Form.js","components/Building.js","App.js","reportWebVitals.js","index.js"],"names":["createFloorsBuilding","num","Array","from","keys","map","floorId","number","condition","createElevators","elevatorId","id","isOccupied","isDoorOpen","inFloor","position","_g","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgElevator","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","preserveAspectRatio","ref","transform","fill","stroke","d","ForwardRef","ELEVATOR_COLORS","Elevator","className","style","top","elevator","Button","onClick","handleClick","Floor","floorNumber","floor","setFloorNumber","elevators","src","audioFile","document","getElementsByClassName","play","Form","handleChange","ev","name","value","onSubmit","preventDefault","handleSubmit","htmlFor","type","buildingState","numOfFloors","onChange","numOfElevators","Building","updateData","numOfFloorsInBuilding","floorsInBuilding","getBuildingData","state","rafIds","forEach","cancelAnimationFrame","setState","queue","prevState","handleRequest","stateQueue","findAvailableElevator","copyQueue","shift","moveElevator","filter","reduce","acc","newDiff","Math","abs","diff","elevatorToMove","find","rafId","currPosition","startPosition","isMoveUp","startTime","Date","now","step","interval","el","setTimeout","requestAnimationFrame","updateRafIdsState","rafIdsCurrState","Component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d1b9d74c.chunk.js","sourcesContent":["\r\nexport function getBuildingData(numOfFloorsInBuilding, numOfElevators) {\r\n  return {\r\n    floorsInBuilding: createFloorsBuilding(numOfFloorsInBuilding),\r\n    elevators: createElevators(numOfElevators) \r\n  }; \r\n};\r\n\r\nfunction createFloorsBuilding(num) {\r\n  let initialArray = Array.from(Array(num).keys());\r\n\r\n  let floorsArray = initialArray.map((floorId) => {\r\n    return {\r\n      number: floorId,\r\n      condition: 'call',\r\n    }\r\n  });\r\n\r\n  return floorsArray;\r\n}\r\n\r\nfunction createElevators(num) {\r\n  let initialArray = Array.from(Array(num).keys());\r\n\r\n  let elevatorsArray = initialArray.map((elevatorId) => {\r\n    return {\r\n      id: elevatorId,\r\n      isOccupied: false,\r\n      isDoorOpen: false,\r\n      inFloor: 0,\r\n      position: 0,\r\n    }\r\n  });\r\n\r\n  return elevatorsArray;\r\n}","export default __webpack_public_path__ + \"static/media/elevator_sound.6347182a.mp3\";","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgElevator(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"20.000000pt\",\n    height: \"40.000000pt\",\n    viewBox: \"0 0 50.000000 50.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,50.000000) scale(0.100000,-0.100000)\",\n    fill: \"current\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 200 l0 -200 250 0 250 0 0 200 0 200 -250 0 -250 0 0 -200z m475 0 l0 -175 -225 0 -225 0 -3 165 c-1 90 0 170 3 177 3 11 51 13 227 11 l223 -3 0 -175z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M74 345 c-4 -8 -4 -26 -2 -40 3 -14 -1 -30 -8 -36 -16 -13 -20 -139 -4 -139 6 0 10 -20 10 -45 l0 -45 40 0 40 0 0 45 c0 25 5 45 10 45 14 0 13 123 -2 138 -6 6 -12 29 -12 49 -1 35 -3 38 -34 41 -22 2 -34 -2 -38 -13z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M214 345 c-4 -8 -4 -26 -2 -40 3 -14 -1 -30 -8 -36 -16 -13 -20 -139 -4 -139 6 0 10 -20 10 -45 l0 -45 40 0 40 0 0 45 c0 25 5 45 10 45 14 0 13 123 -2 138 -6 6 -12 29 -12 49 -1 35 -3 38 -34 41 -22 2 -34 -2 -38 -13z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M354 345 c-4 -8 -4 -26 -2 -40 3 -14 -1 -30 -8 -36 -16 -13 -20 -139 -4 -139 6 0 10 -20 10 -45 l0 -45 40 0 40 0 0 45 c0 25 5 45 10 45 14 0 13 123 -2 138 -6 6 -12 29 -12 49 -1 35 -3 38 -34 41 -22 2 -34 -2 -38 -13z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgElevator);\nexport default __webpack_public_path__ + \"static/media/elevator.6047da45.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { ReactComponent as ElevatorImg } from '../media/elevator.svg';\r\n\r\nconst ELEVATOR_COLORS = {\r\n  occupied: '#ed484d',\r\n  arrived: '#5bcd88',\r\n  available: '#000000',\r\n};\r\n\r\nexport const Elevator = (props) => {\r\n  const getConditionColor = () => {\r\n    if (props.elevator.isDoorOpen) return ELEVATOR_COLORS.arrived;\r\n    else {\r\n      return props.elevator.isOccupied ? ELEVATOR_COLORS.occupied : ELEVATOR_COLORS.available;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"elevator\" style={{ top: props.elevator.position }}>\r\n      <ElevatorImg fill={ getConditionColor() } />\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport const Button = (props) => {\r\n  \r\n  return (\r\n    <>\r\n      <button \r\n        className={`capitalize border-radius bold ${props.condition}`} \r\n        onClick={props.handleClick}>\r\n          {props.condition}\r\n      </button>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport audioFile from '../media/elevator_sound.mp3';\r\nimport { Elevator } from './Elevator';\r\nimport { Button } from './Button';\r\n\r\nexport const Floor = (props) => {\r\n\r\n  const handleClick = () => {\r\n    props.handleClick(props.floor);\r\n  }\r\n\r\n  const playSound = () => {\r\n    const audioEl = document.getElementsByClassName(\"audio-element\")[0];\r\n    audioEl.play();\r\n  }\r\n\r\n  const setFloorNumber = () => {\r\n    const floorNumber = props.floor.number;\r\n    \r\n    switch (floorNumber) {\r\n      case 0:\r\n        return `ground floor`;\r\n      case 1:\r\n        return `${floorNumber}st`;\r\n      case 2:\r\n        return `${floorNumber}nd`;\r\n      case 3:\r\n        return `${floorNumber}rd`;\r\n      default:\r\n        return `${floorNumber}th`;\r\n    }\r\n  }\r\n\r\n  const setCellsAndElevators = () => {\r\n    return (\r\n      props.elevators.map((elevator, i) => {\r\n        if (props.floor.number === 0) return <div className=\"cell\" key={ i }>{ <Elevator elevator={elevator} /> }</div>\r\n        return <div className=\"cell\" key={ i }></div>\r\n      }\r\n      )\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"Floor flex align-center justify-center\">\r\n      <h5 className=\"capitalize\">{ setFloorNumber() }</h5>\r\n      <div className=\"cells-container flex\">{ setCellsAndElevators() }</div>\r\n      <Button handleClick={ handleClick } condition={ props.floor.condition } />\r\n      <audio className=\"audio-element\">\r\n        <source src={ audioFile }></source>\r\n      </audio>\r\n      { props.floor.condition === 'arrived' && playSound() }\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport const Form = (props) => {\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    props.handleSubmit();\r\n  }\r\n\r\n  const handleChange = (ev) => {\r\n    const { name, value } = ev.target;\r\n    if (value < 1) return;\r\n\r\n    props.handleChange(name, value);\r\n  }\r\n  return (\r\n    <form className=\"form\" onSubmit={ handleSubmit }>\r\n      <label className=\"capitalize\" htmlFor=\"numOfFloors\">\r\n        floors:\r\n        <input type=\"number\" name=\"numOfFloors\" id=\"numOfFloors\"\r\n          value={ props.buildingState.numOfFloors } \r\n          onChange={ handleChange } \r\n        />\r\n      </label>\r\n      <label className=\"capitalize\" htmlFor=\"numOfElevators\">\r\n        elevators:\r\n        <input type=\"number\" name=\"numOfElevators\" id=\"numOfElevators\"\r\n          value={ props.buildingState.numOfElevators } \r\n          onChange={ handleChange } \r\n        />\r\n      </label>\r\n      <button type=\"submit\">Update</button>\r\n    </form>\r\n  )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getBuildingData } from '../data/buildingData';\r\nimport { Floor } from './Floor';\r\nimport { Form } from './Form';\r\n\r\nexport class Building extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      numOfFloors: 10,\r\n      numOfElevators: 5,\r\n      floorsInBuilding: [],\r\n      elevators: [],\r\n      queue: [],\r\n      rafIds: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateData(this.state.numOfFloors, this.state.numOfElevators);\r\n  }\r\n\r\n  updateData = (numOfFloorsInBuilding, numOfElevators) => {\r\n    const { floorsInBuilding, elevators } = getBuildingData(numOfFloorsInBuilding, numOfElevators);\r\n\r\n    this.state.rafIds.forEach(id => {\r\n      cancelAnimationFrame(id)\r\n    });\r\n\r\n    this.setState(() => {\r\n      return {\r\n        floorsInBuilding,\r\n        elevators,\r\n        queue: [],\r\n        rafIds: Array.from(Array(numOfElevators).keys()),\r\n      }\r\n    })\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    this.updateData(this.state.numOfFloors, this.state.numOfElevators);\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    \r\n    this.setState(() => {\r\n      return { [name]: +value }\r\n    });\r\n  }\r\n\r\n  handleClick = (floor) => {\r\n    const { number: floorNumber, condition } = floor;\r\n    if (condition !== 'call') return;\r\n\r\n    this.setState(prevState => {\r\n      return {\r\n      floorsInBuilding: prevState.floorsInBuilding.map(floor => floor.number === floorNumber ?\r\n        { ...floor, condition: 'waiting' }\r\n        : floor),\r\n      queue: [...prevState.queue, floorNumber]\r\n    }}, () => {\r\n      this.handleRequest();\r\n    })\r\n\r\n  }\r\n  \r\n  handleRequest = () => {  \r\n    const { queue: stateQueue } = this.state;  \r\n    if (stateQueue.length === 0) return;\r\n    const floorNumber = stateQueue[0];\r\n\r\n    const elevatorId = this.findAvailableElevator(floorNumber);\r\n    if (elevatorId === -1) return;\r\n\r\n    const copyQueue = [...stateQueue];\r\n    copyQueue.shift();\r\n\r\n    this.setState(() => {\r\n      return {\r\n      queue: copyQueue\r\n    }}, () => {\r\n      this.moveElevator(elevatorId, floorNumber);\r\n    })\r\n  }\r\n\r\n  findAvailableElevator = (floorNumber) => {\r\n    const closestElevator = \r\n      this.state.elevators.filter(elevator => !elevator.isOccupied).reduce((acc, elevator) => {\r\n        let newDiff = Math.abs(floorNumber - elevator.inFloor);\r\n        if (newDiff < acc.diff) {\r\n          acc.diff = newDiff;\r\n          acc.elevatorId = elevator.id;\r\n        }\r\n\r\n        return acc;\r\n      }, { diff: 1000000000, elevatorId: -1 });\r\n\r\n    return closestElevator.elevatorId;\r\n  }\r\n\r\n  moveElevator = (elevatorId, floorNumber) => {\r\n    const elevatorToMove = this.state.elevators.find(elevator => elevator.id === elevatorId);\r\n\r\n    this.setState(prevState => {\r\n      return {\r\n      elevators: prevState.elevators.map(elevator => elevator.id === elevatorId ?\r\n        { ...elevator, isOccupied: true }\r\n        : elevator)\r\n    }})\r\n\r\n    const target = -(floorNumber * 56);\r\n    const startPosition = elevatorToMove.position;\r\n    const isMoveUp = target < startPosition;\r\n    const startTime = Date.now();\r\n    let rafId, currPosition;\r\n\r\n    const step = () => {\r\n      let interval = Date.now() - startTime;\r\n      currPosition = isMoveUp ? startPosition - (interval / 25) : startPosition + (interval / 25);\r\n\r\n      this.setState(prevState => {\r\n        return {\r\n        elevators: prevState.elevators.map(elevator => elevator.id === elevatorId ?\r\n          { ...elevator, position: currPosition }\r\n          : elevator)\r\n      }})\r\n\r\n      const stopCondition = isMoveUp ? currPosition <= target : currPosition >= target;\r\n      if (stopCondition) {\r\n\r\n        this.setState(prevState => {\r\n          return {\r\n          elevators: prevState.elevators.map(el => el.id === elevatorId ?\r\n            { ...el, position: target, inFloor: floorNumber, isDoorOpen: true }\r\n            : el)\r\n        }});\r\n\r\n        this.setState(prevState => {\r\n          return {\r\n          floorsInBuilding: prevState.floorsInBuilding.map(floor => floor.number === floorNumber ?\r\n            { ...floor, condition: 'arrived' }\r\n            : floor)\r\n        }});\r\n\r\n        setTimeout(() => {\r\n          this.setState(prevState => {\r\n            return {\r\n            floorsInBuilding: prevState.floorsInBuilding.map(floor => floor.number === floorNumber ?\r\n              { ...floor, condition: 'call' }\r\n              : floor),\r\n            elevators: prevState.elevators.map(el => el.id === elevatorId ?\r\n              { ...el, isDoorOpen: false, isOccupied: false }\r\n              : el)\r\n          }});\r\n\r\n          this.handleRequest();\r\n        }, 2000);\r\n\r\n        return;\r\n      }\r\n      rafId = requestAnimationFrame(step);\r\n\r\n      this.updateRafIdsState(elevatorId, rafId);\r\n    }\r\n    step();\r\n  }\r\n\r\n  updateRafIdsState = (elevatorId, rafId) => {\r\n\r\n    let rafIdsCurrState = [...this.state.rafIds];\r\n    rafIdsCurrState[elevatorId] = rafId;\r\n    this.setState(() => {\r\n      return {\r\n        rafIds: rafIdsCurrState\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const renderFloors = () => {\r\n      return this.state.floorsInBuilding.map(floor => <Floor\r\n        key={ floor.number }\r\n        floor={ floor }\r\n        elevators={ this.state.elevators }\r\n        handleClick={ this.handleClick }\r\n      />\r\n      )\r\n    }\r\n    \r\n    return (\r\n      <>\r\n        <Form \r\n          buildingState={ this.state }\r\n          handleChange={ this.handleChange } \r\n          handleSubmit={ this.handleSubmit }\r\n        />\r\n        <div className=\"building bold\">\r\n          { renderFloors() }\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import './styles/global.scss';\nimport { Building } from './components/Building';\n\nexport const App = () => {\n  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header center bold capitalize\">\n       <h1>elevator exercise</h1>\n      </header>\n      <Building />\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}